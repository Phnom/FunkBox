(this.webpackJsonpfunkbox=this.webpackJsonpfunkbox||[]).push([[0],{20:function(e,n,t){},21:function(e,n,t){},32:function(e,n,t){"use strict";t.r(n);var s=t(11),a=t.n(s),c=t(15),i=t.n(c),r=(t(20),t(7)),u=(t(21),t(0)),o=t(1),l=t(3),p=t(2),d=t(9),h=function(e,n){var t=Math.pow(10,n||0);return Math.round(e*t)/t},b=function(e){Object(l.a)(t,e);var n=Object(p.a)(t);function t(e,s,a){var c;return Object(u.a)(this,t),(c=n.call(this,e,a||[[],[],[],[],[],[],[],[]])).pattern=a,c.instrument=s||"No Sound",c.start(0),c}return Object(o.a)(t,[{key:"getPattern",value:function(){return this.events}},{key:"setStep",value:function(e){var n="";switch(this.events[e].length){case 0:this.events[e]=[["C1"]],n="<span>X</span>";break;case 1:this.events[e]=[["C1"],["C1"]],n="<span>X</span><span>X</span>";break;case 2:this.events[e][0][0]?(this.events[e][0]=[],n="<span>O</span><span>X</span>"):(this.events[e]=[["C1"],["C1"],["C1"]],n="<span>X</span><span>X</span><span>X</span>");break;case 3:this.events[e][0][0]&&this.events[e][1][0]?(this.events[e]=[[],["C1"],["C1"]],n="<span>O</span><span>X</span><span>X</span>"):!this.events[e][0][0]&&this.events[e][1][0]?(this.events[e]=[[],[],["C1"]],n="<span>O</span><span>O</span><span>X</span>"):(this.events[e]=[],n="");break;default:this.events[e]=[],n=""}return n}}],[{key:"newSequence",value:function(e,n,s){return new t(e,n,s)}}]),t}(d.c),j=function(e){Object(l.a)(t,e);var n=Object(p.a)(t);function t(e,s){var a;return Object(u.a)(this,t),(a=n.call(this,{urls:e,baseUrl:"/FunkBox"})).name=s,a.drawClass="."+a.name+"Step",a.eventCb=a.seqSampler,a}return Object(o.a)(t,[{key:"seqSampler",value:function(e){var n=document.querySelector(this.instrument.drawClass);d.a.schedule((function(){n.classList.add("draw")}),e),d.d.schedule((function(e){d.a.schedule((function(){n.classList.remove("draw")}),e)}),"+0.02"),this.instrument.triggerAttackRelease([24],"16n",e)}}]),t}(d.b),m=function(){function e(n,t){Object(u.a)(this,e),this.pattern=t,this.name=n,this.instrument=this.setInstrument(this.name),this.sequence=new b(this.instrument.eventCb,this.instrument,this.pattern)}return Object(o.a)(e,[{key:"getPattern",value:function(){return this.sequence.getPattern()}},{key:"setInstrument",value:function(e){return new j({24:"/Drums/".concat(e,"1.wav")},this.name).toDestination()}},{key:"setStep",value:function(e){return this.sequence.setStep(e)}}]),e}(),v={Kick:[[],[],[],[],[],[],[],[]],Snare:[[],[],[],[],[],[],[],[]],Clap:[[],[],[],[],[],[],[],[]],Hihat:[[],[],[],[],[],[],[],[]]},f=function(){var e=Object.keys(v);return e},O={},x=function(e){return"Load"===e?(d.d.bpm.value=80,d.e(),Object.keys(v).forEach((function(e){O[e]=new m(e,v[e])}))):d.d.toggle(),"Start"===e?"Stop":"Start"},w=function(e,n){"bpm"===n?function(e){"up"===e?d.d.bpm.value>=200?d.d.bpm.value=50:d.d.bpm.value+=1:d.d.bpm.value<=50?d.d.bpm.value=100:d.d.bpm.value-=1,document.querySelector(".bpmDisplay .displayP").innerText=Math.floor(d.d.bpm.value)}(e):function(e){"up"===e?d.d.swing>=.95?d.d.swing=0:d.d.swing=h(d.d.swing+=.1,1):d.d.swing<=0?d.d.swing=1:h(d.d.swing-=.1,1),document.querySelector(".swingDisplay .displayP").innerText=Math.round(100*d.d.swing)}(e)},C=t(8),g=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(g,"px"));var S=function(e){var n=e.channel;return Object(C.jsx)("div",{className:"sequenceChannel "+n+"Step",children:[0,1,2,3,4,5,6,7].map((function(e){return Object(C.jsx)("button",{className:"sequenceStep",onClick:function(){return function(e){var t=document.querySelector("."+n+e),s=O[n].setStep(e);t.innerHTML=s}(e)},children:Object(C.jsx)("div",{className:n+e})},e)}))})},k=function(e){var n=e.name;return Object(C.jsxs)("div",{className:n+"Container",children:[Object(C.jsx)("button",{className:"add",onClick:function(){return w("up",n)},children:"+"}),Object(C.jsx)("button",{className:"sub",onClick:function(){return w("down",n)},children:"-"})]})},y=function(e){var n=e.name;return Object(C.jsxs)("div",{className:"displayContainer "+n+"Display",children:[Object(C.jsx)("p",{children:n}),Object(C.jsx)("p",{className:"displayP",children:"100"})]})},N=function(){var e=Object(s.useState)(!1),n=Object(r.a)(e,2),t=n[0],a=n[1];return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsxs)("h1",{children:[Object(C.jsx)("span",{children:"FUNK"}),Object(C.jsx)("span",{children:"BOX"})]}),Object(C.jsx)("div",{className:"sequenceContainer",children:t?f().map((function(e,n){return Object(C.jsx)(S,{channel:e},n)})):Object(C.jsx)("div",{})}),t?Object(C.jsxs)("div",{className:"controlContainer",children:[Object(C.jsx)(k,{name:"bpm"}),Object(C.jsx)(y,{name:"bpm"}),Object(C.jsx)(k,{name:"swing"}),Object(C.jsx)(y,{name:"swing"})]}):Object(C.jsx)("div",{className:"menuController"}),Object(C.jsx)("div",{className:"startButtonContainer",children:Object(C.jsx)("button",{className:"startButton",onClick:function(){return function(){var e=document.querySelector(".startSpan");e.innerText=x(e.innerText),t||a(!0)}()},children:Object(C.jsx)("span",{className:"startSpan",children:"Load"})})})]})},q=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,33)).then((function(n){var t=n.getCLS,s=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),s(e),a(e),c(e),i(e)}))};i.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(N,{})}),document.getElementById("root")),q()}},[[32,1,2]]]);
//# sourceMappingURL=main.c260c8e1.chunk.js.map